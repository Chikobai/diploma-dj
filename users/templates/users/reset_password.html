{% extends 'users/base.html' %}

{% block content%}
    <div class="container py-5">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6 offset-md-3">
                        <!-- form card change password -->
                        <div class="card card-outline-secondary">
                            <div class="card-header">
                                <h3 class="mb-0">Reset Password</h3>
                            </div>
                            <div class="card-body">
                                <form class="form" role="form" autocomplete="off" name="resetPasswordForm" method="post" action="{{ domain }}user/save-password/">
                                    <div class="form-group">
                                        <label for="inputPasswordOld">New Password</label>
                                        <input type="password" class="form-control" name="password1" required="">
                                        <span class="form-text small text-muted">
                                                The password must be more than 8 characters, and must <em>not</em> contain spaces.
                                            </span>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputPasswordNew">Confirm Password</label>
                                        <input type="password" class="form-control" name="password2" required="">
                                        <span class="form-text small text-muted">
                                                To confirm, type the new password again.
                                            </span>
                                    </div>
                                    <input type="hidden" name="user_id" value="{{ user }}">

                                    <br><br>
                                    <div class="form-group" style="">
                                        <button type="submit" id="btnSave" class="btn btn-success btn-lg float-right" style="background-color:#198494; width:100%">Save</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <!-- /form card change password -->

                    </div>

                </div>
                <!--/row-->

            <br><br><br><br>

            </div>
            <!--/col-->
        </div>
        <!--/row-->
        <hr>
        <p class="text-center">
          Все права защишены.
        </p>

    </div>


  <script type="text/javascript">
    $("#btnSave").click(function(event) {

    var password1 = document.forms["resetPasswordForm"]["password1"].value;
    var password2 = document.forms["resetPasswordForm"]["password2"].value;
    if (password1 === ""){
      alert("New password field is empty. Please, try again")
      return false;
    }

    if (password2 === ""){
      alert("Confirm password field is empty. Please, try again")
      return false;
    }

    if (password1.length <= 8){
      alert("New password field is less than 8 characters. Please, try again");
      return false;
    }
    if (password2.length <= 8){
      alert("Confirm password field is less than 8 characters. Please, try again");
      return false;
    }

    if (password1 !== password2){
      alert("New password is not equals to confirm password. Please, try again");
        return false;
    }
    return true;

    });
  </script>


{% endblock %}
